---
name: media-poster
description: 将内容发布到微信、B站、抖音、小红书、推特和飞书等多个社交媒体平台
version: 1.0.0
---

# 社交媒体发布器

## 描述

这是一个综合性的内容发布技能，支持将内容发布到微信公众号、哔哩哔哩、抖音、小红书、推特和飞书等多个社交媒体平台。该技能自动处理格式转换、API 认证和平台特定要求。

## 使用说明

### 准备工作

使用此技能前，请确保 MCP 服务器已正确配置。详细的安装步骤请参考 [README.md](./README.md)，包括：
- 构建 MCP 服务器
- 配置各平台凭据的环境变量
- 将服务器添加到 Claude Code 配置中

### 可用工具

该技能提供以下 MCP 工具：

- `publish_to_wechat`: 发布文章到微信公众号（自动将 Markdown 转换为 HTML）
- `publish_to_bilibili`: 发布专栏文章到 B 站（自动将 Markdown 转换为 HTML）
- `publish_to_douyin`: 发布视频元数据到抖音
- `publish_to_xiaohongshu`: 发布图文笔记到小红书
- `publish_to_twitter`: 发布推文到推特/X
- `publish_to_feishu`: 在飞书中创建云文档

### 使用指南

当用户请求发布内容时：

1. **识别目标平台**：从用户的请求中确定要发布到哪个或哪些平台
2. **读取内容**：如果内容在文件中，先读取文件
3. **提取必要的元数据**：
   - 微信/B站：从第一个 `#` 标题提取标题，或询问用户
   - 推特：确保内容长度合适
   - 飞书：使用文件名或第一个标题作为文档标题
4. **调用相应的工具**：使用内容和平台特定参数调用工具
5. **报告结果**：向用户报告结果，包括返回的 URL 或 ID

### 平台特定说明

- **微信公众号**：需要 `title`、`content`，可选 `author`。可提供 `thumb_media_id` 作为封面图。
- **哔哩哔哩**：需要 `title` 和 `content`。如未指定分类，默认为 "2"（生活分区）。
- **抖音**：主要用于视频元数据。如未提供 `video_id`，工具将尝试纯文本发布。
- **小红书**：API 访问可能受限，请确保配置了有效的凭据。
- **推特**：支持纯文本推文。暂不支持从 URL 上传媒体。
- **飞书**：创建新文档。完整的 Markdown 结构内容填充是未来的增强功能。

## 示例

### 示例 1：单平台发布

**用户**："把我的博客文章 `ai-trends-2026.md` 发布到微信"

**回复**：
```
我将把您的博客文章发布到微信公众号。

[读取文件并提取标题]
[调用 publish_to_wechat，传入标题和内容]

✅ 成功发布到微信！
- 标题：AI 趋势 2026
- 草稿 ID：media_abc123
- 状态：草稿已创建（您可以从微信后台发布）
```

### 示例 2：多平台发布

**用户**："把这个公告分享到推特，并在飞书创建一个文档给团队"

**回复**：
```
我将把这个公告发布到推特和飞书。

[读取内容]
[调用 publish_to_twitter]
[调用 publish_to_feishu]

✅ 已发布到推特
- 推文 ID：1234567890
- 链接：https://twitter.com/user/status/1234567890

✅ 已创建飞书文档
- 文档 ID：doc_xyz789
- 链接：https://feishu.cn/docs/doc_xyz789
```

### 示例 3：批量发布

**用户**："把这个产品更新发布到所有平台"

**回复**：
```
我将把您的产品更新发布到所有 6 个支持的平台。

[读取内容并为每个平台准备]
[依次调用各个发布工具]

结果：
✅ 微信：草稿已创建（media_id: abc123）
✅ B站：文章已保存到草稿箱（aid: 456789）
✅ 推特：已发布（tweet_id: 9876543210）
✅ 飞书：文档已创建（https://feishu.cn/docs/doc_new）
⚠️ 抖音：需要 video_id 才能完整发布
⚠️ 小红书：需要 API 认证

6 个平台中有 4 个发布成功。请查看上述警告。
```

## 注意事项

- 所有凭据应通过 MCP 服务器配置中的环境变量进行配置
- Markdown 内容会自动转换为 HTML（针对需要的平台，如微信、B站）
- 平台 API 的错误消息会直接传递，以帮助排查问题
- 详细的技术文档请参考 [README.md](./README.md)
